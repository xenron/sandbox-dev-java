<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" >

    <ui:composition template="/basic_layout.xhtml">
        <ui:define name="title">
            <title> JSF CRUD Validation Example </title>
        </ui:define>

        <ui:define name="mainContent">

                <h1> CRUD Example with Bean Validation</h1>

                <p>
                    This is your web page for a demo application, which allows the user to enter
                    Contact Details with server side validation.
                </p>

                <p>
                    Group = <span class="blau">uk.co.xenonique.digital.javaee</span> <br/>
                    ArtifactId = <span class="blau" >jsf-crud-validation</span> <br/>
                    Version = <span class="blau">1.0-SNAPSHOT</span> <br/>
                </p>

                <p>
                    <a class="btn btn-primary" href="createContactDetail.xhtml"> Create New Contact Detail </a>
                </p>

                <h2> List of Contact Details </h2>

                <h:messages globalOnly="true" styleClass="alert alert-danger" />

                <h:dataTable id="contactTable"
                     value="#{contactDetailControllerBV.retrieveAllContacts()}"
                     styleClass="table-striped table-bordered user-table"
                     var="contact">
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Title" />
                        </f:facet>
                        <h:outputText value="#{contact.title}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="First name" />
                        </f:facet>
                        <h:outputText value="#{contact.firstName}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="middle name" />
                        </f:facet>
                        <h:outputText value="#{contact.middleName}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Last name" />
                        </f:facet>
                        <h:outputText value="#{contact.lastName}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Email" />
                        </f:facet>
                        <h:outputText value="#{contact.email}"/>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="D.O.B" />
                        </f:facet>
                        <h:outputText value="#{contact.dob}" >
                            <f:convertDateTime type="date" pattern="dd-MMM-yyyy"/>
                        </h:outputText>
                    </h:column>
                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Allow emails?" />
                        </f:facet>
                    <h:outputText value="#{contact.allowEmails}"/>
                </h:column>

                    <h:column>
                        <f:facet name="header">
                            <h:outputText value="Action" />
                        </f:facet>
                        <h:link styleClass="btn" outcome="editContactDetail.xhtml?id=#{contact.id}">
                            <f:param name="id" value="#{contact.id}" />
                            <span class="glyphicon glyphicon-edit"></span>
                        </h:link>
                        <h:link styleClass="btn" outcome="removeContactDetail.xhtml?id=#{contact.id}">
                            <f:param name="id" value="#{contact.id}" />
                            <span class="glyphicon glyphicon-trash"></span>
                        </h:link>
                    </h:column>

                </h:dataTable>

                <hr class="subfeaturette-divider" />

        </ui:define> <!--name="mainContent" -->

    </ui:composition>
</html>
