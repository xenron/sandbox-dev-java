<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/basic_layout.xhtml">
        <ui:define name="title">
            <title> JSF CRUD Validation Example </title>
        </ui:define>

        <ui:define name="mainContent">
            <f:metadata>
                <f:viewParam name="id" value="#{contactDetailControllerBV.id}" />
                <f:event type="preRenderView" listener="#{contactDetailControllerBV.findContactById()}"/>
            </f:metadata>

            <h1> Delete Contact Details </h1>

            <div class="alert alert-info">
                <p> This page uses Bean Validation on the back end.</p>
            </div>

            <table class="table table-striped table-bordered">
                <tr>
                    <th> Item</th>
                    <th> Value</th>
                </tr>
                <tr>
                    <td> Title </td>
                    <td> #{contactDetailControllerBV.contactDetail.title} </td>
                </tr>
                <tr>
                    <td> First Name </td>
                    <td> #{contactDetailControllerBV.contactDetail.firstName} </td>
                </tr>
                <tr>
                    <td> Middle Name </td>
                    <td> #{contactDetailControllerBV.contactDetail.middleName} </td>
                </tr>
                <tr>
                    <td> Last Name </td>
                    <td> #{contactDetailControllerBV.contactDetail.lastName} </td>
                </tr>
                <tr>
                    <td> Allows Email? </td>
                    <td> #{contactDetailControllerBV.contactDetail.allowEmails} </td>
                </tr>
                <tr>
                    <td> Email </td>
                    <td> #{contactDetailControllerBV.contactDetail.email} </td>
                </tr>
                <tr>
                    <td> Date of Birth </td>
                    <td>
                        <h:outputText value="#{contactDetailControllerBV.contactDetail.dob}" >
                            <f:convertDateTime type="date" pattern="dd-MMM-yyyy"/>
                        </h:outputText>
                    </td>
                </tr>
            </table>


            <h:form id="editContactDetail"
                    styleClass="form-horizontal"
                    p:role="form">
                <h:inputHidden value="${contactDetailControllerBV.id}" />

                <h:commandButton styleClass="btn btn-primary"
                                 action="#{contactDetailControllerBV.removeContact()}"
                                 value="Submit" />
                &#160;
                &#160;
                <h:commandButton styleClass="btn btn-default"
                                 action="#{contactDetailControllerBV.cancel()}"
                                 immediate="true" value="Cancel"/>
            </h:form>

            <hr class="subfeaturette-divider" />
        </ui:define>
    </ui:composition>
</html>
